.\" Copyright (c) 1993 Michael Haardt (michael@moria.de),
.\"     Fri Apr  2 11:32:09 MET DST 1993
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111,
.\" USA.
.\"
.\" Modified Sun Jul 25 10:46:28 1993 by Rik Faith (faith@cs.unc.edu)
.\" Modified Sun Aug 21 18:12:27 1994 by Rik Faith (faith@cs.unc.edu)
.\" Modified Sun Jun 18 01:53:57 1995 by Andries Brouwer (aeb@cwi.nl)
.\" Modified Mon Jan  5 20:24:40 MET 1998 by Michael Haardt
.\"  (michael@cantor.informatik.rwth-aachen.de)
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH PASSWD 5 1998\-01\-05 Linux "Руководство программиста Linux"
.SH ИМЯ
passwd \- файл паролей
.SH ОПИСАНИЕ
\fBPasswd\fP \(em это текстовый файл, который содержит список учётных записей в
системе, где каждая учётная запись содержит некоторую полезную информацию,
такую как идентификатор пользователя (UID), идентификатор группы (GID),
домашний каталог, командный интерпретатор и т.д. Часто, в этом же файле для
каждой учётной записи содержатся также и зашифрованные пароли. Файл должен
быть доступен для чтения всем (многие утилиты, такие как \fBls\fP(1) используют
его, чтобы преобразовывать идентификаторы пользователей в их имена), но
доступ на запись должен предоставляться только суперпользователю.
.PP
В старые добрые времена, не существовало большой проблемы, связанной с
доступностью этого файла на чтение для всех. Любой мог прочитать
зашифрованные пароли, но мощности компьютеров не хватало для подбора
грамотно выбранных паролей, а кроме того, наивно предполагалось, что сеть
используется дружественным сообществом пользователей. В наши дни, многие
пользователи стали использовать механизм теневых паролей, где файл
\fI/etc/passwd\fP звёздочку (*), вместо зашифрованных паролей, а зашифрованные
пароли хранятся в файле \fI/etc/shadow\fP, который доступен на чтение только
суперпользователю.
.PP
Вне зависимости от того применяется ли механизм теневых паролей или нет,
многие системные администраторы ставят звёздочку в поле зашифрованного
пароля, чтобы быть уверенными, что данный пользователь не пройдёт
аутентификацию, используя какой\-либо пароль. (Но смотри раздел замечаний
далее.)
.PP
Если вы создаёте новую учётную запись, сперва в поле пароля помещается
звёздочка, а затем с помощью команды \fBpasswd\fP(1) вы можете задать пароль.
.PP
В каждой строке файла содержится по одной учётной записи в формате:
.sp
.RS
account:password:UID:GID:GECOS:directory:shell
.RE
.sp
Описание полей:
.RS
.TP  1.0in
\fIaccount\fP
Имя пользователя в системе. Оно не должно содержать букв в верхнем регистре.
.TP 
\fIpassword\fP
Зашифрованный пароль пользователя, звёздочка (*), или буква \(aqx\(aq. (про
\(aqx\(aq см. в \fBpwconv\fP(8).)
.TP 
\fIUID\fP
Числовой идентификатор пользователя (UID).
.TP 
\fIGID\fP
Числовой идентификатор первичной группы (GID) пользователя.
.TP 
\fIGECOS\fP
Данное поле является необязательным и используется только для информационных
целей. Обычно, оно содержит полное имя пользователя. GECOS это аббревиатура
от General Electric Comprehensive Operating System, которая был
переименована в GCOS, когда подразделение больших систем компании GE было
продано компании Honeywell. Денис Ритчи писал: "Иногда мы направляем вывод
печати или пачку заданий на GCOS машину. Поле gcos в файле паролей было
местом, где хранилась информация для $IDENTcard. Не элегантно."
.TP 
\fIdirectory\fP
Домашний каталог \fB$HOME\fP пользователя.
.TP 
\fIshell\fP
Это программа, которая запускается после входа в систему (если это поле
пустое, то используется \fI/bin/sh\fP). Если в поле указан несуществующий
исполняемый файл, то пользователь не сможет войти в систему с помощью
\fBlogin\fP(1).
.RE
.SH ФАЙЛЫ
\fI/etc/passwd\fP
.SH ЗАМЕЧАНИЯ
Если вы хотите создать группу пользователя, то их GID должны быть одинаковы
и такая группа должна существовать в файле \fI/etc/group\fP, иначе группа не
будет существовать.
.PP
Если вместо зашифрованного пароля установлена звёздочка, то пользователь не
сможет войти в систему, используя команду \fBlogin\fP(1), но сможет войти в
систему, используя \fBrlogin\fP(1), запустить существующие процессы и
инициировать новые, используя \fBrsh\fP(1), \fBcron\fP(8), \fBat\fP(1) или почтовые
фильтры и т.д. Попытка заблокировать учётную запись простым изменением поля
shell, даст тот же результат и в дополнении разрешит использование \fBsu\fP(1).
.SH "СМОТРИТЕ ТАКЖЕ"
\fBlogin\fP(1), \fBpasswd\fP(1), \fBsu\fP(1), \fBgetpwent\fP(3), \fBgetpwnam\fP(3),
\fBgroup\fP(5), \fBshadow\fP(5)
