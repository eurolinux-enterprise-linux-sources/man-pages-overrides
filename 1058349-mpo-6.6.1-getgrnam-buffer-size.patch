From 562a8687d2f2c0a06248358b67838690ba193d1b Mon Sep 17 00:00:00 2001
From: jchaloup <jchaloup@redhat.com>
Date: Mon, 9 Jun 2014 10:12:15 +0200
Subject: [PATCH] getgrnam.3 buffer size

---
 man-pages/man3/getgrnam.3 | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

diff --git a/man-pages/man3/getgrnam.3 b/man-pages/man3/getgrnam.3
index 318a93b..fbe61b4 100644
--- a/man-pages/man3/getgrnam.3
+++ b/man-pages/man3/getgrnam.3
@@ -111,12 +111,18 @@ struct group {
 .fi
 .in
 .PP
-The maximum needed size for
-.I buf
-can be found using
-.BR sysconf (3)
-with the argument
-.BR _SC_GETGR_R_SIZE_MAX .
+The call
+
+    sysconf(_SC_GETGR_R_SIZE_MAX)
+
+returns either \-1, without changing
+.IR errno ,
+or an initial suggested size for
+.IR buf .
+(If this size is too small,
+the call fails with
+.BR ERANGE ,
+in which case the caller can retry with a larger buffer.)
 .SH "RETURN VALUE"
 The
 .BR getgrnam ()
-- 
1.9.3

